(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{427:function(t,e,a){t.exports=a.p+"assets/img/wx-incoming-call-msg.e929d418.png"},505:function(t,e,a){t.exports=a.p+"assets/img/callkit-incoming-call.a901a8e6.png"},542:function(t,e,a){"use strict";a.r(e);var i=a(6),l=Object(i.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"在中国-app-store-发布的应用不能使用-callkit-功能"}},[t._v("在中国 App Store 发布的应用不能使用 CallKit 功能")]),t._v(" "),i("h2",{attrs:{id:"什么是-callkit"}},[t._v("什么是 CallKit")]),t._v(" "),i("p",[t._v("Callkit 开发框架最早在 iOS 10 上发布，它支持 VoIP 应用将通话功能集成到 iPhone 自带的通话功能中，简言之，就是让用户收到来自第三方应用的语音、视频聊天时直接看到和语音来电或 Facetime 来电相同的界面，是非常友好的用户体验。")]),t._v(" "),i("p",[i("img",{attrs:{src:a(505),alt:"CallKit Incoming Call"}})]),t._v(" "),i("h2",{attrs:{id:"为何不被允许使用"}},[t._v("为何不被允许使用")]),t._v(" "),i("p",[t._v("大约在 2018 年 5 月左右，苹果要求在中国 App Store 应用市场发布的应用停止使用 CallKit 功能。包含 CallKit 功能的应用在提交审核时会被拒绝，拒绝的理由如下邮件信息所示是由于工信部的要求。在此要求之后，包括微信、钉钉等包含音视频通信的应用都在 iOS 应用中取消了 CallKit 功能。")]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"title"},[t._v("Email from Apple")]),i("p",[t._v("Dear Developer,")]),t._v(" "),i("p",[t._v("The Chinese Ministry of Industry and Information Technology (MIIT) http://www.miit.gov.cn/n1146285/n1146352/n3054355/n3057709/n3057713/index.html requested that CallKit functionality be deactivated in all apps available on the China App Store.")]),t._v(" "),i("p",[t._v("Since your app currently includes CallKit and is available for sale on the China App Store, you will need to submit an update that removes CallKit functionality in China.")]),t._v(" "),i("p",[t._v("VOIP call functionality continues to be allowed but can no longer take advantage of CallKit’s intuitive look and feel. CallKit can continue to be used in apps outside of China.")]),t._v(" "),i("p",[t._v("If you have questions or do not believe your app is subject to this update, please contact MIIT.")]),t._v(" "),i("p",[t._v("Best regards,")]),t._v(" "),i("p",[t._v("App Store Review")])]),i("p",[t._v("取消使用 CallKit 之后，第三方应用不再能够实现和语音来电或 Facetime 来电相同的用户体验。当用户被呼叫时，只能够通过推送消息的方式提醒用户，用户体验大打折扣。如下图所示，是目前 iPhone 版本微信在接收到视频呼叫时的通知方式。")]),t._v(" "),i("p",[i("img",{attrs:{src:a(427),alt:"微信来电通知"}})]),t._v(" "),i("p",[t._v("另外，据了解这个限制目前只影响在中国地区 App Store 发布的应用，如果在其他地区的 App Store 发布则不受此限制影响。")]),t._v(" "),i("h2",{attrs:{id:"参考"}},[t._v("参考")]),t._v(" "),i("p",[i("a",{attrs:{href:"https://developer.apple.com/documentation/callkit",target:"_blank",rel:"noopener noreferrer"}},[t._v("CallKit Framework"),i("OutboundLink")],1)]),t._v(" "),i("p",[i("a",{attrs:{href:"https://developer.apple.com/videos/play/wwdc2016/230/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Enhancing VoIP Apps with CallKit"),i("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=l.exports}}]);